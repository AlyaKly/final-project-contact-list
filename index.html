<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="node_modules/axios/dist/axios.min.js"></script>
    <script src="node_modules/vue/dist/vue.min.js"></script>
    <link rel="stylesheet" href="node_modules/bulma/css/bulma.min.css">
    <script defer src="js/main.js"></script>
</head>
<body>

  <!-- Header of the page / Titles -->
  <section class="section">
    <div class="box has-background-grey-lighter">
      <div class="heading">
        <h1 class="title has-text-centered">Lista del Contactos</h1>
        <h2 class="subtitle has-text-centered">Esto es mi proyecto final con una lista del contactos</h2>
      </div>
    </div>
  </section>

  <!-- Table with contacts list, Add New button, search and paging -->
  <section class="box">

    <!-- Create new Contact button -->
    <div id="vueapp">
      <div class="buttons">
        <button class="button is-light is-rounded" v-on:click="isShowModal = true">Add new Contact</button>
        <span class="icon is-small is-left">
          <!-- <i class="fas fa-envelope"></i> -->
        </span>
      </div>

      <!-- Create Contact modal form =>> will be displayed when on the Add New Contact button click -->
      <div class="modal" v-bind:class="{ 'is-active': isShowModal }">
        <div class="modal-background"  v-on:click="isShowModal = false"></div>
        <div class="modal-card">
          <header class="modal-card-head">
            <p class="modal-card-title">Add new contact</p>
            <button class="delete" aria-label="close" v-on:click="isShowModal = false"></button>
          </header>
          <!-- Modal form content -->
          <section class="modal-card-body">
            <!-- Full Name field -->
            <div class="field is-horizontal">
              <div class="field-label is-normal">
                <label class="label">Full Name:</label>
              </div>
              <div class="field-body">
                <div class="field">
                  <p class="control">
                    <input class="input" :class="{'is-danger': nameError}" type="text" placeholder="Full Name" v-model="contactName">
                  </p>
                  <p class="help is-danger" v-if="nameError">Please, enter Contact full name</p>
                </div>
              </div>
            </div>
            <!-- Email Address field -->
            <div class="field is-horizontal">
              <div class="field-label is-normal">
                <label class="label">Email Address:</label>
              </div>
              <div class="field-body">
                <div class="field">
                  <p class="control">
                    <input class="input" :class="{'is-danger': emailError}" type="email" placeholder="email@example.com" v-model="contactEmail">
                  </p>
                  <p class="help is-danger" v-if="emailError">Please, enter Contact email address</p>
                </div>
              </div>
            </div>
            <!-- Phone Number field -->
            <div class="field is-horizontal">
              <div class="field-label is-normal">
                <label class="label">Phone Number:</label>
              </div>
              <div class="field-body">
                <div class="field">
                  <p class="control">
                    <input class="input" :class="{'is-danger': phoneError}" type="tel" placeholder="(123)1234-123" v-model="contactPhone">
                  </p>
                  <p class="help is-danger" v-if="phoneError">Please, enter Contact phone number</p>
                </div>
              </div>
            </div>
          </section>
          <!-- Modal form footer with Save and Cancel buttons -->
          <footer class="modal-card-foot">
            <button class="button is-success" v-on:click="createNewContact">Create</button>
            <button class="button" v-on:click="isShowModal = false">Cancel</button>
          </footer>
      </div>
      <button class="modal-close is-large" aria-label="close"  v-on:click="isShowModal = false"></button>
    </div>
  </div>
  
  <!-- Table with a list of Contacts -->
  <div id="app-table-content">
    <!-- Search by Name field -->
    <div class="field has-addons has-addons-right has-addons-halfwidth">
      <p class="control has-icons-left">
        <input v-model="searchName" class="input is-rounded" type="text" placeholder="Search...">
        <span class="icon is-small is-left">
          <!-- <i class="fas fa-envelope"></i> -->
        </span>
      </p>
    </div>
 
    <!-- Table with contact -->
    <div class="table-container">
      <table class="table is-striped is-narrow is-fullwidth">
        <thead class="has-background-grey-lighter">
          <tr>
            <th>Full Name</th>
            <th>Email Address</th>
            <th>Phone Number</th>
            <th>View</th>
            <th>Edit</th>
            <th>Delete</th>
          </tr>
        </thead>
        <tbody>
          <tr v-for="contact in contactSearch">
            <td> {{ contact.fields.Name }} </td>
            <td> {{ contact.fields.Email }} </td>
            <td> {{ contact.fields.Phone }} </td>
            <td>
              <button v-on:click="modalInfo = contact">
                üìñ
              </button>
            </td>
            <td>‚úè</td>
            <td>‚úñ</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Test View Modal Form -->
    <div class="modal" v-if="modalInfo" v-bind:class="{ 'is-active': modalInfo }">
      <div class="modal-background" v-on:click="modalInfo = undefined"></div>
      <div class="modal-card">
        <header class="modal-card-head">
          <p class="modal-card-title">View Contact</p>
          <button class="delete" aria-label="close" v-on:click="modalInfo = undefined"></button>
        </header>
        <section class="modal-card-body">
          <!-- Content ... -->
          <!-- Full Name -->
          <div class="field is-horizontal">
            <div class="field-label is-normal">
              <label class="label">Full Name:</label>
            </div>
            <div class="field-body">
              <div class="field">
                <p class="control">
                  <input class="input is-static" type="text" :value="modalInfo.fields.Name" readonly>
                </p>
              </div>
            </div>
          </div>
          <!-- Email -->
          <div class="field is-horizontal">
            <div class="field-label is-normal">
              <label class="label">Email Address:</label>
            </div>
            <div class="field-body">
              <div class="field">
                <p class="control">
                  <input class="input is-static" type="email" :value="modalInfo.fields.Email" readonly>
                </p>
              </div>
            </div>
          </div>
          <!-- Phone -->
          <div class="field is-horizontal">
            <div class="field-label is-normal">
              <label class="label">Phone Number:</label>
            </div>
            <div class="field-body">
              <div class="field">
                <p class="control">
                  <input class="input is-static" type="tel" :value="modalInfo.fields.Phone" readonly>
                </p>
              </div>
            </div>
          </div>
  
      </div>
      <!-- <button class="modal-close is-large" aria-label="close"  v-on:click="modalInfo = undefined"></button> -->
    </div>


  </div>
    <!-- Paging for the table -->
    <!-- <div>
      <nav class="pagination is-rounded is-centered" role="navigation" aria-label="pagination">
        <a class="pagination-previous">Previous</a>
        <a class="pagination-next">Next page</a>
        <ul class="pagination-list">
          <li><a class="pagination-link" aria-label="Goto page 1">1</a></li>
          <li><span class="pagination-ellipsis">&hellip;</span></li>
          <li><a class="pagination-link" aria-label="Goto page 5">5</a></li>
          <li><a class="pagination-link is-current" aria-label="Page 6" aria-current="page">6</a></li>
          <li><a class="pagination-link" aria-label="Goto page 7">7</a></li>
          <li><span class="pagination-ellipsis">&hellip;</span></li>
          <li><a class="pagination-link" aria-label="Goto page 16">16</a></li>
        </ul>
      </nav>
    </div> -->
  </section>


  <!-- View contact modal card -->
  <div class="modal">
    <div class="modal-background"></div>
    <div class="modal-card">
      <header class="modal-card-head">
        <p class="modal-card-title">View Contact</p>
        <button class="delete" aria-label="close"></button>
      </header>
      <section class="modal-card-body">
        <!-- Content ... -->
        <!-- Full Name -->
        <div class="field is-horizontal">
          <div class="field-label is-normal">
            <label class="label">Full Name:</label>
          </div>
          <div class="field-body">
            <div class="field">
              <p class="control">
                <input class="input is-static" type="text" value="test name" readonly>
              </p>
            </div>
          </div>
        </div>
        <!-- Email -->
        <div class="field is-horizontal">
          <div class="field-label is-normal">
            <label class="label">Email Address:</label>
          </div>
          <div class="field-body">
            <div class="field">
              <p class="control">
                <input class="input is-static" type="email" value="me@example.com" readonly>
              </p>
            </div>
          </div>
        </div>
        <!-- Phone -->
        <div class="field is-horizontal">
          <div class="field-label is-normal">
            <label class="label">Phone Number:</label>
          </div>
          <div class="field-body">
            <div class="field">
              <p class="control">
                <input class="input is-static" type="tel" value="(123)1234-123" readonly>
              </p>
            </div>
          </div>
        </div>

      </section>
      <!-- <footer class="modal-card-foot">
        <button class="button is-success">Save changes</button>
        <button class="button">Cancel</button>
      </footer> -->
    </div>
  </div>

</body>
</html>